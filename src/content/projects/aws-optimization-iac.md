---
title: "AWS環境の統合管理基盤構築プロジェクト"
summary: "Account Factory for Terraform（AFT）を活用し、複数事業部のAWS環境を統合管理。アカウント作成の自動化、環境分離、コスト最適化を実現し、運用工数を大幅に削減。SSOによる認証統合とセキュリティ強化も実現。"
cover: "./mermaid.png"
coverAlt: "System architecture diagram"
publishedDate: 2024-11-30
tags: ["AWS", "Terraform", "IaC", "AFT", "AWS Organizations", "SSO", "コスト最適化", "セキュリティ", "クラウドガバナンス", "自動化"]
---

# AWSインフラのコスト最適化とIaC化プロジェクト

## お客様の情報
- **業界：** 通信
- **企業規模：** 従業員数 50-100名
- **事業内容：** 通信サービスの提供

## プロジェクト概要
- **期間：** 3ヶ月
- **弊社側の体制**：PM 1名、エンジニア 1名
- **開発スタイル：** アジャイル開発（スクラム）
- **予算：** 500万円
- **範囲：** AWS環境全体の最適化とIaC化

## CodeCiaoの役割
弊社は、お客様の複雑なAWS運用課題を根本から解決すべく、以下の領域で全面的なサポートを提供しました：
- **AWSアカウント統合管理：** AFT（Account Factory for Terraform）を活用し、アカウント作成・管理の自動化と環境ごとの明確な分離を実現
- **コスト最適化と運用効率改善：** 全体のリソース利用状況を一元管理し、不正なリソース作成の防止とコスト削減施策を展開
- **セキュリティと監査の強化：** 自動脆弱性スキャンやCI/CD内のセキュリティ検証により、安心して運用可能な体制を構築

## ご相談の背景
お客様は、急速に拡大するAWS利用に伴い、以下のような問題に直面していました：

- **煩雑なアカウント管理と属人的な運用：**
  - プロジェクト担当者は都度、役員に「新しいアカウントを作成してください」と依頼
  - 役員はクレジットカード登録など面倒な手続きに追われ、アカウント発行がボトルネック化
  - 複数環境が1つのアカウント内に混在し、誤操作や混乱が頻発

- **不正リソース作成とコストの乱立：**
  - サービス担当者による自由なリソース作成で予期せぬコスト増加
  - 承認プロセスや監視体制の不備により業務効率が低下
  - 全体のコスト管理が困難な状態に

- **運用負荷の高騰：**
  - 手動オペレーションと属人的な管理による運用ミスの発生
  - システム全体の信頼性とコスト効率の低下
  - より迅速かつ正確な運用への要求

## 取り組みの結果
弊社は自動化技術と統合管理システムを活用し、以下の成果を実現しました：

- **自動アカウント作成と環境分離による運用効率の向上：**
  - 決裁者はGitHub PR上で承認ボタンを押すだけでアカウントが自動作成される仕組みを実現
  - 開発・ステージング・本番環境を個別アカウントに分離し、誤操作リスクを大幅に低減
  - 結果：アカウント作成までにかかっていた時間を大幅に短縮し、誤環境操作によるミスも減少

- **不正リソース作成の防止とコスト管理の徹底：**
  - 承認プロセスと自動監視システムによる無秩序なリソース作成の防止
  - 各種コスト監視ツールによるリアルタイム監視
  - 結果：確実な予算管理と無駄な支出の防止を実現

- **中央集権的な管理と統合認証の実現：**
  - AFTプラットフォームによる全アカウントの一元管理と変更履歴の自動記録
  - SSOの導入により、1つの認証情報で全アカウントにアクセス可能に
  - 結果：セキュリティ強化と運用効率の大幅な改善

## プロジェクト詳細
弊社は、次のプロセスを通じてお客様の課題を解決し、安定かつ効率的なAWS環境の運用体制を構築しました。

1. **要求分析と現状評価フェーズ：**  
   - お客様の既存運用プロセスを詳細にヒアリングし、各プロジェクトごとのアカウント発行、リソース作成、不正リソースの発生状況を定量的に評価。  
   - 問題点を明確化し、各環境での混在がもたらすリスクを関係者間で共有しました。

2. **設計フェーズ：**  
   - AFTを中心とした中央集権的なアカウント管理システムの設計。  
   - 各環境（開発、ステージング、本番）のリソースを個別アカウントに分離し、誤操作の防止と効率的な監査体制を確立。  
   - リソース作成に対する事前承認と自動監視の仕組みを設計し、不正なリソース作成の検知を実現。

3. **実装フェーズ：**  
   - AFTを導入し、PRベースのアカウント作成依頼を自動化。  
   - 全アカウントの運用状況を統合管理するシステムと、SSOによる統合認証を実装。  
   - AWS Cost Explorer、Budgets、CloudHealth、Infracostを組み合わせ、リソース利用状況のリアルタイム監視とアラート体制を構築しました。

4. **テスト・検証フェーズ：**  
   - 導入した仕組みをテスト環境で運用し、アカウント作成、自動承認、統合管理、コスト監視の各プロセスが問題なく機能するかを徹底検証。  
   - お客様の現場からのフィードバックをもとに、必要な調整を迅速に実施しました。

5. **運用開始と移行フェーズ：**  
   - 段階的なアカウント移行とトラフィック切り替えを実施し、新システムへの本格導入を完了。  
   - 移行後は、全体のコスト削減、運用効率化、不正リソース作成防止の成果を確認し、安定運用を実現しました。

このプロジェクトを通じ、弊社はお客様に対して、安心してシステムを運用できる統合管理体制と、効率的かつ透明性の高いコスト管理、さらには高いセキュリティレベルを提供いたしました。  
お客様は、迅速なAWS環境の構築と運用体制の刷新を実現でき、今後のシステム拡張やコスト最適化に対しても自信を持って進められるようになりました。
