---
import Section from "@/components/Section";
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const sortedProjects = projects.sort(
  (a, b) => b.data.publishedDate.getTime() - a.data.publishedDate.getTime()
);
---

<Layout>
  <Section>
    <ul>
      {
        sortedProjects.map(project => (
          <li>
            <h2>{project.data.title}</h2>
            <p>{project.data.summary}</p>
            <p>
              公開日: {project.data.publishedDate.toLocaleDateString("ja-JP")}
            </p>
            <p>
              <a href={`/projects/${project.id}`}>{project.id}</a>
            </p>
          </li>
        ))
      }
    </ul>
  </Section>
</Layout>
